<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Denkaai - Full Stack Engineer & Fintech Specialist Portfolio">
    <meta name="keywords" content="Denkaai, Full Stack Engineer, Fintech, PesaFlow, Web Development">
    <meta name="author" content="Denkaai">
    <title>Denkaai | Full Stack Engineer & Fintech Specialist</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://checkout.flutterwave.com/v3.js"></script>
</head>
<body data-theme="dark">
    <header>
        <nav class="container">
            <div class="logo">DENKAAI</div>
            <ul class="nav-links">
                <li><a href="#hero">Home</a></li>
                <li class="dropdown">
                    <a href="#projects" class="nav-highlight">My Apps <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="pesaflow.html">PesaFlow</a></li>
                        <li><a href="deadline-predictor.html">TimeGuard</a></li>
                        <li><a href="propertyhub/">PropertyHub KE</a></li>
                    </ul>
                </li>
                <li><a href="#support">Support</a></li>
                <li><a href="#contact">Contact</a></li>
                <li>
                    <button class="theme-toggle" aria-label="Toggle Theme">
                        <i class="fas fa-moon"></i>
                    </button>
                </li>
            </ul>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="hero" class="hero container reveal">
            <h1>Building <span class="gradient-text">Scalable Fintech</span> Solutions</h1>
            <p>I'm Denkaai, a Senior Full Stack Engineer specializing in payment integrations and smart financial tools.</p>
            <div class="cta-buttons">
                <a href="#projects" class="btn btn-primary">View My Work</a>
                <a href="#contact" class="btn btn-secondary">Get In Touch</a>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="container reveal">
            <h2 class="section-title">My Projects</h2>
            
            <div class="projects-grid">
                <!-- Project 1: PesaFlow -->
                <div class="project-card">
                    <div class="project-info">
                        <div class="project-badge">FINTECH</div>
                        <h3>PesaFlow</h3>
                        <p>Smart expense analyzer with M-Pesa integration and automated SMS parsing logic.</p>
                        <div class="project-actions">
                            <a href="pesaflow.html" class="btn btn-primary btn-sm">View App</a>
                        </div>
                    </div>
                </div>

                <!-- Project 3: PropertyHub KE -->
                <div class="project-card">
                    <div class="project-info">
                        <div class="project-badge">REAL ESTATE FINTECH</div>
                        <h3>PropertyHub KE</h3>
                        <p>Smart rent management platform for Kenya with Flutterwave integration and direct landlord payments.</p>
                        <div class="project-actions">
                            <a href="propertyhub/" class="btn btn-primary btn-sm">View App</a>
                        </div>
                    </div>
                </div>

                <!-- Project 2: TimeGuard -->
                <div class="project-card">
                    <div class="project-info">
                        <div class="project-badge">PRODUCTIVITY LOGIC</div>
                        <h3>TimeGuard</h3>
                        <p>Deadline risk predictor using algorithmic time estimation to prevent project failure.</p>
                        <div class="project-actions">
                            <a href="deadline-predictor.html" class="btn btn-primary btn-sm">View App</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Support Section -->
        <section id="support" class="support-section reveal">
            <div class="container">
                <div class="support-card">
                    <div class="support-header">
                        <i class="fas fa-heart"></i>
                        <h2>Support PesaFlow</h2>
                        <p>Fuel the development of open-source fintech tools. Your contribution directly supports the maintenance and scaling of PesaFlow.</p>
                        <p class="support-note">Default M-Pesa: <strong>0727710513</strong></p>
                    </div>
                    
                    <div id="payment-step-1" class="payment-step">
                        <div class="form-group">
                            <label for="support-amount">Amount (KES)</label>
                            <input type="number" id="support-amount" placeholder="Enter amount e.g. 500" min="10">
                        </div>
                        <button id="initiate-payment" class="btn btn-primary w-100">Proceed to Payment</button>
                    </div>

                    <div id="payment-step-2" class="payment-step" style="display: none;">
                        <div class="success-message">
                            <i class="fas fa-check-circle"></i>
                            <h3>Payment Initiated!</h3>
                            <p>Please enter the M-Pesa confirmation code below once you receive it to verify your support.</p>
                        </div>
                        <div class="form-group">
                            <label for="ref-code">Confirmation Code</label>
                            <input type="text" id="ref-code" placeholder="Example: RLG512T4R5">
                        </div>
                        <button id="verify-payment" class="btn btn-primary w-100">Verify & Complete</button>
                        <button id="cancel-payment" class="btn-link">Cancel</button>
                    </div>

                    <div id="payment-step-3" class="payment-step" style="display: none;">
                        <div class="success-final">
                            <i class="fas fa-rocket"></i>
                            <h3>Thank You, Legend!</h3>
                            <p>Your support has been recorded. Together, we're building the future of African fintech.</p>
                            <button onclick="resetSupport()" class="btn btn-secondary">Done</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="container reveal">
            <div class="contact-container">
                <h2 class="section-title">Let's Connect</h2>
                <p>Looking for a specialized payment integration or building a fintech product? Let's discuss your next project.</p>
                <a href="mailto:contact.denkaai@gmail.com" class="btn btn-primary">contact.denkaai@gmail.com</a>
                <div class="social-links">
                    <a href="https://github.com/denkaai" class="social-icon" target="_blank"><i class="fab fa-github"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2026 Denkaai. All rights reserved.</p>
            <p>Designed & Developed by <span class="brand">D-E-N-K-A-A-I</span></p>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Support Flow Logic
        const initiateBtn = document.getElementById('initiate-payment');
        const verifyBtn = document.getElementById('verify-payment');
        const cancelBtn = document.getElementById('cancel-payment');
        const amountInput = document.getElementById('support-amount');
        const refInput = document.getElementById('ref-code');

        const step1 = document.getElementById('payment-step-1');
        const step2 = document.getElementById('payment-step-2');
        const step3 = document.getElementById('payment-step-3');

        initiateBtn.addEventListener('click', () => {
            const amount = amountInput.value;
            if (amount < 10) {
                alert('Please enter a valid amount (minimum KES 10)');
                return;
            }
            
            // Set loading state
            initiateBtn.disabled = true;
            initiateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            
            // Trigger Flutterwave
            makePayment(amount);
        });

        function makePayment(amount) {
            FlutterwaveCheckout({
                public_key: "FLWPUBK_TEST-SANDBOX-SDK", // Replace with actual key for production
                tx_ref: "PF-" + Date.now(),
                amount: amount,
                currency: "KES",
                payment_options: "mpesa, card, mobilemoney",
                customer: {
                    email: "contact.denkaai@gmail.com",
                    phone_number: "0727710513",
                    name: "PesaFlow Supporter",
                },
                customizations: {
                    title: "PesaFlow Support",
                    description: "Supporting the development of Smart Expense Analyzer",
                    logo: "https://denkaai.github.io/assets/img/logo.png",
                },
                callback: function (data) {
                    console.log("Payment Callback:", data);
                    
                    // Reset button state
                    initiateBtn.disabled = false;
                    initiateBtn.innerText = 'Proceed to Payment';

                    if (data.status === "successful") {
                        // Move to step 2 for manual confirmation code entry (for user trust)
                        step1.style.display = 'none';
                        step2.style.display = 'block';
                    } else {
                        alert("Payment was not successful. Please try again.");
                    }
                },
                onclose: function() {
                    initiateBtn.disabled = false;
                    initiateBtn.innerText = 'Proceed to Payment';
                }
            });
        }

        verifyBtn.addEventListener('click', () => {
            const code = refInput.value.trim();
            if (code.length < 5) {
                alert('Please enter a valid confirmation code');
                return;
            }
            
            // Simulate verification
            verifyBtn.disabled = true;
            verifyBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Verifying...';
            
            setTimeout(() => {
                step2.style.display = 'none';
                step3.style.display = 'block';
            }, 1500);
        });

        cancelBtn.addEventListener('click', () => {
            step2.style.display = 'none';
            step1.style.display = 'block';
            verifyBtn.disabled = false;
            verifyBtn.innerText = 'Verify & Complete';
        });

        function resetSupport() {
            step3.style.display = 'none';
            step1.style.display = 'block';
            amountInput.value = '';
            refInput.value = '';
            initiateBtn.disabled = false;
            initiateBtn.innerText = 'Proceed to Payment';
            verifyBtn.disabled = false;
            verifyBtn.innerText = 'Verify & Complete';
        }
    </script>
</body>
</html>
